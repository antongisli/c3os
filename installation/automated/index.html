<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.91.2" />
    <meta name="description" content="Documentation for c3os">
<meta name="author" content="Ettore Di Giacinto">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Automated installation :: c3os documentation</title>

    
    <link href="/css/nucleus.css?1663191160" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1663191160" rel="stylesheet">
    <link href="/css/hybrid.css?1663191160" rel="stylesheet">
    <link href="/css/featherlight.min.css?1663191160" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1663191160" rel="stylesheet">
    <link href="/css/auto-complete.css?1663191160" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1663191160" rel="stylesheet">
    <link href="/css/theme.css?1663191160" rel="stylesheet">
    <link href="/css/tabs.css?1663191160" rel="stylesheet">
    <link href="/css/hugo-theme.css?1663191160" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1663191160" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1663191160"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/installation/automated/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      
<a href="https://docs.c3os.io">
<img src="https://user-images.githubusercontent.com/2420543/153508410-a806a385-ae3e-417e-b87e-7472f21689e3.png">
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1663191160"></script>
<script type="text/javascript" src="/js/auto-complete.js?1663191160"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/docs.c3os.io";
    
</script>
<script type="text/javascript" src="/js/search.js?1663191160"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/quickstart/" title="Quickstart" class="dd-item
        
        
        
        ">
      <a href="/quickstart/">
          Quickstart
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/quickstart/installation/" title="Installation" class="dd-item ">
        <a href="/quickstart/installation/">
        Installation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/installation/" title="Installation reference" class="dd-item
        parent
        
        
        ">
      <a href="/installation/">
          Installation reference
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/installation/manual/" title="Manual installation" class="dd-item ">
        <a href="/installation/manual/">
        <b>- </b>Manual installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/interactive/" title="Interactive installation" class="dd-item ">
        <a href="/installation/interactive/">
        <b>- </b>Interactive installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/automated/" title="Automated installation" class="dd-item active">
        <a href="/installation/automated/">
        <b>- </b>Automated installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/p2p/" title="Full P2P mesh support" class="dd-item ">
        <a href="/installation/p2p/">
        <b>- </b>Full P2P mesh support
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/raspberry/" title="Raspberry" class="dd-item ">
        <a href="/installation/raspberry/">
        <b>- </b>Raspberry
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/takeover/" title="Take over installation" class="dd-item ">
        <a href="/installation/takeover/">
        <b>- </b>Take over installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/netboot/" title="Netboot installation" class="dd-item ">
        <a href="/installation/netboot/">
        <b>- </b>Netboot installation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/upgrade/" title="Upgrade" class="dd-item
        
        
        
        ">
      <a href="/upgrade/">
          Upgrade
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/upgrade/manual/" title="Manual" class="dd-item ">
        <a href="/upgrade/manual/">
        <b>- </b>Manual
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/upgrade/kubernetes/" title="Upgrading from Kubernetes" class="dd-item ">
        <a href="/upgrade/kubernetes/">
        <b>- </b>Upgrading from Kubernetes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/architecture/" title="Architecture" class="dd-item
        
        
        
        ">
      <a href="/architecture/">
          Architecture
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/architecture/container/" title="Container based OS" class="dd-item ">
        <a href="/architecture/container/">
        <b>- </b>Container based OS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/architecture/immutable/" title="Immutable layout" class="dd-item ">
        <a href="/architecture/immutable/">
        <b>- </b>Immutable layout
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/architecture/meta/" title="Meta-Distribution" class="dd-item ">
        <a href="/architecture/meta/">
        <b>- </b>Meta-Distribution
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/architecture/network/" title="P2P Network" class="dd-item ">
        <a href="/architecture/network/">
        <b>- </b>P2P Network
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/examples/" title="Examples" class="dd-item
        
        
        
        ">
      <a href="/examples/">
          Examples
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/examples/examples/" title="Common setup" class="dd-item ">
        <a href="/examples/examples/">
        <b>- </b>Common setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/examples/configuration/" title="Configuring a node after install" class="dd-item ">
        <a href="/examples/configuration/">
        <b>- </b>Configuring a node after install
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/reference/" title="Reference" class="dd-item
        
        
        
        ">
      <a href="/reference/">
          Reference
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/reference/paths/" title="Paths" class="dd-item ">
        <a href="/reference/paths/">
        <b>- </b>Paths
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/reference/cli/" title="CLI" class="dd-item ">
        <a href="/reference/cli/">
        <b>- </b>CLI
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/reference/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="/reference/troubleshooting/">
        <b>- </b>Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/reference/configuration/" title="Configuration reference" class="dd-item ">
        <a href="/reference/configuration/">
        <b>- </b>Configuration reference
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/reference/recovery_mode/" title="Remote Recovery mode" class="dd-item ">
        <a href="/reference/recovery_mode/">
        <b>- </b>Remote Recovery mode
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/reference/customizing/" title="Customizing the system image" class="dd-item ">
        <a href="/reference/customizing/">
        <b>- </b>Customizing the system image
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/c3os-io/c3os"><i class='fab fa-fw fa-github'></i> Github</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/c3os-io/c3os/discussions"><i class='fas fa-fw fa-comments'></i> Github discussions</a>
              </li>
          
              <li>
                  <a class="padding" href="https://web.libera.chat/#c3os"><i class='fas fa-fw fa-comments'></i> Libera chat</a>
              </li>
          
              <li>
                  <a class="padding" href="https://matrix.to/#/#c3os:matrix.org"><i class='fas fa-fw fa-comments'></i> Matrix chat</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/c3os-io/provider-c3os/releases"><i class='fas fa-solid fa-download'></i> Download</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/c3os-io/c3os/releases"><i class='fas fa-solid fa-download'></i> Download core (without k3s)</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/c3os-io/c3os/edit/master/docs/content/installation/automated.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/installation/'>Installation reference</a> > Automated installation
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#datasource">Datasource</a></li>
    <li><a href="#via-config-url">Via config URL</a></li>
    <li><a href="#iso-remastering">ISO remastering</a>
      <ul>
        <li><a href="#locally">Locally</a></li>
        <li><a href="#kubernetes">Kubernetes</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Automated installation
            </h1>
          

        


<p>It is possible to drive the installation automatically by configuring a specific portion of the configuration file (<code>install</code>).
The configuration file can be supplied then in various way, by either creating an additional ISO to mount ( if a VM, or burn to USB stick if baremetal), specifying a config via URL or even create a ISO from a container image with an embedded config file, which we are going to explore here.</p>
<p>The <code>install</code> block can be used to customize the installation drive, reboot or shutdown, and additional bundles, for example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">install</span>:
  <span style="color:#75715e"># Device for automated installs</span>
  <span style="color:#f92672">device</span>: <span style="color:#e6db74">&#34;/dev/sda&#34;</span>
  <span style="color:#75715e"># Reboot after installation</span>
  <span style="color:#f92672">reboot</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#75715e"># Power off after installation</span>
  <span style="color:#f92672">poweroff</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#75715e"># Set to true to enable automated installations</span>
  <span style="color:#f92672">auto</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#75715e"># A list of bundles</span>
  <span style="color:#f92672">bundles</span>: 
  - <span style="color:#ae81ff">quay.io/c3os/packages/...</span>
</code></pre></div><h2 id="datasource">Datasource</h2>
<p>The configuration file can be provided to c3os by mounting an ISO in the node with the <code>cidata</code> label. The ISO must contain a <code>user-data</code> (which contain your configuration) and <code>meta-data</code> file.</p>
<p>Consider a cloud-init of the following content, which is configured to automatically install onto <code>/dev/sda</code> and reboot:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e">#node-config</span>

<span style="color:#f92672">install</span>:
  <span style="color:#f92672">device</span>: <span style="color:#e6db74">&#34;/dev/sda&#34;</span>
  <span style="color:#f92672">reboot</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#f92672">poweroff</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#f92672">auto</span>: <span style="color:#66d9ef">true</span> <span style="color:#75715e"># Required, for automated installations</span>
  
<span style="color:#f92672">c3os</span>:
  <span style="color:#f92672">network_token</span>: <span style="color:#ae81ff">....</span>

<span style="color:#75715e"># extra configuration</span>
</code></pre></div><p>Save it as <code>cloud_init.yaml</code>, and we will now create an ISO with it.</p>
<p>To create an ISO as datasource, run the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mkdir -p build
$ cd build
$ touch meta-data
$ cp -rfv cloud_init.yaml user-data
$ mkisofs -output ci.iso -volid cidata -joliet -rock user-data meta-data
</code></pre></div><p>Now the iso is ready to be attached as the CDROM to the machine, boot it up as usual along with the c3os iso.</p>
<h2 id="via-config-url">Via config URL</h2>
<p>It is possible to specify <code>config_url=&lt;URL&gt;</code> as boot argument during boot. This will let the machine pull down the configuration specified via URL and perform the installation with the configuration specified. The config will be available in the system after installation as usual at <code>/oem/99_custom.yaml</code>.</p>
<p>If you don&rsquo;t know where to upload such config, it is common habit upload those as Github gists.</p>
<h2 id="iso-remastering">ISO remastering</h2>
<p>It is possible to create custom ISOs with an embedded cloud-config. This will let the machine automatically boot with a configuration file, which later will be installed in the system after provisioning is completed.</p>
<h3 id="locally">Locally</h3>
<p>To remaster an ISO locally you just need docker.</p>
<p>As c3os is based on elemental, the elemental-cli can be used to create a new ISO, with an additional config, consider the following steps:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ IMAGE<span style="color:#f92672">=</span>&lt;source/image&gt;
$ mkdir -p files-iso/boot/grub2
<span style="color:#75715e"># You can replace this step with your own grub config. This GRUB configuration is the boot menu of the ISO</span>
$ wget https://raw.githubusercontent.com/c3os-io/c3os/master/overlay/files-iso/boot/grub2/grub.cfg -O files-iso/boot/grub2/grub.cfg
<span style="color:#75715e"># Copy the config file</span>
$ cp -rfv cloud_init.yaml files-iso/config.yaml
<span style="color:#75715e"># Pull the image locally</span>
$ docker pull $IMAGE
<span style="color:#75715e"># Optionally, modify the image here!</span>
<span style="color:#75715e"># docker run --entrypoint /bin/bash --name changes -ti $IMAGE</span>
<span style="color:#75715e"># docker commit changes $IMAGE</span>
<span style="color:#75715e"># Build an ISO with $IMAGE</span>
$ docker run -v $PWD:/cOS -v /var/run/docker.sock:/var/run/docker.sock -i --rm quay.io/c3os/osbuilder-tools:v0.1.0 --name <span style="color:#e6db74">&#34;custom-iso&#34;</span> --debug build-iso --date<span style="color:#f92672">=</span>false --local --overlay-iso /cOS/files-iso $IMAGE --output /cOS/
</code></pre></div><h3 id="kubernetes">Kubernetes</h3>
<p>It is possible to create ISOs and derivatives using extended Kubernetes API resources with an embedded config file to drive automated installations.</p>
<p>This method also allows to tweak the container image by overlaying others on top - without breaking the concept of immutability and single image OS.</p>
<p>Consider the following example, which requires a Kubernetes cluster to run the components, but works also on <code>kind</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
<span style="color:#75715e"># Adds the c3os repo to helm</span>
$ helm repo add c3os https://c3os-io.github.io/helm-charts
<span style="color:#e6db74">&#34;c3os&#34;</span> has been added to your repositories
$ helm repo update                                        
Hang tight <span style="color:#66d9ef">while</span> we grab the latest from your chart repositories...
...Successfully got an update from the <span style="color:#e6db74">&#34;c3os&#34;</span> chart repository
Update Complete. ⎈Happy Helming!⎈

<span style="color:#75715e"># Install the CRD chart</span>
$ helm install c3os-crd c3os/c3os-crds
NAME: c3os-crd
LAST DEPLOYED: Tue Sep  <span style="color:#ae81ff">6</span> 20:35:34 <span style="color:#ae81ff">2022</span>
NAMESPACE: default
STATUS: deployed
REVISION: <span style="color:#ae81ff">1</span>
TEST SUITE: None

<span style="color:#75715e"># Installs osbuilder</span>
$ helm install c3os-osbuilder c3os/osbuilder
NAME: c3os-osbuilder
LAST DEPLOYED: Tue Sep  <span style="color:#ae81ff">6</span> 20:35:53 <span style="color:#ae81ff">2022</span>
NAMESPACE: default
STATUS: deployed
REVISION: <span style="color:#ae81ff">1</span>
TEST SUITE: None

<span style="color:#75715e"># Applies an OSArtifact spec</span>
cat <span style="color:#e6db74">&lt;&lt;&#39;EOF&#39; | kubectl apply -f -
</span><span style="color:#e6db74">apiVersion: build.c3os-x.io/v1alpha1
</span><span style="color:#e6db74">kind: OSArtifact
</span><span style="color:#e6db74">metadata:
</span><span style="color:#e6db74">  name: hello-c3os
</span><span style="color:#e6db74">spec:
</span><span style="color:#e6db74">  imageName: &#34;quay.io/c3os/c3os:opensuse-latest&#34;
</span><span style="color:#e6db74">  iso: true
</span><span style="color:#e6db74">  bundles:
</span><span style="color:#e6db74">  - quay.io/c3os/packages:goreleaser-utils-1.11.1
</span><span style="color:#e6db74">  grubConfig: |
</span><span style="color:#e6db74">          search --file --set=root /boot/kernel.xz
</span><span style="color:#e6db74">          set default=0
</span><span style="color:#e6db74">          set timeout=10
</span><span style="color:#e6db74">          set timeout_style=menu
</span><span style="color:#e6db74">          set linux=linux
</span><span style="color:#e6db74">          set initrd=initrd
</span><span style="color:#e6db74">          if [ &#34;${grub_cpu}&#34; = &#34;x86_64&#34; -o &#34;${grub_cpu}&#34; = &#34;i386&#34; -o &#34;${grub_cpu}&#34; = &#34;arm64&#34; ];then
</span><span style="color:#e6db74">              if [ &#34;${grub_platform}&#34; = &#34;efi&#34; ]; then
</span><span style="color:#e6db74">                  if [ &#34;${grub_cpu}&#34; != &#34;arm64&#34; ]; then
</span><span style="color:#e6db74">                      set linux=linuxefi
</span><span style="color:#e6db74">                      set initrd=initrdefi
</span><span style="color:#e6db74">                  fi
</span><span style="color:#e6db74">              fi
</span><span style="color:#e6db74">          fi
</span><span style="color:#e6db74">          if [ &#34;${grub_platform}&#34; = &#34;efi&#34; ]; then
</span><span style="color:#e6db74">              echo &#34;Please press &#39;t&#39; to show the boot menu on this console&#34;
</span><span style="color:#e6db74">          fi
</span><span style="color:#e6db74">          set font=($root)/boot/${grub_cpu}/loader/grub2/fonts/unicode.pf2
</span><span style="color:#e6db74">          if [ -f ${font} ];then
</span><span style="color:#e6db74">              loadfont ${font}
</span><span style="color:#e6db74">          fi
</span><span style="color:#e6db74">          menuentry &#34;install&#34; --class os --unrestricted {
</span><span style="color:#e6db74">              echo Loading kernel...
</span><span style="color:#e6db74">              $linux ($root)/boot/kernel.xz cdroot root=live:CDLABEL=COS_LIVE rd.live.dir=/ rd.live.squashimg=rootfs.squashfs console=tty1 console=ttyS0 rd.cos.disable vga=795 nomodeset nodepair.enable
</span><span style="color:#e6db74">              echo Loading initrd...
</span><span style="color:#e6db74">              $initrd ($root)/boot/rootfs.xz
</span><span style="color:#e6db74">          }
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">          if [ &#34;${grub_platform}&#34; = &#34;efi&#34; ]; then
</span><span style="color:#e6db74">              hiddenentry &#34;Text mode&#34; --hotkey &#34;t&#34; {
</span><span style="color:#e6db74">                  set textmode=true
</span><span style="color:#e6db74">                  terminal_output console
</span><span style="color:#e6db74">              }
</span><span style="color:#e6db74">          fi
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  cloudConfig: |
</span><span style="color:#e6db74">            #node-config
</span><span style="color:#e6db74">            install:
</span><span style="color:#e6db74">              device: &#34;/dev/sda&#34;
</span><span style="color:#e6db74">              reboot: true
</span><span style="color:#e6db74">              poweroff: false
</span><span style="color:#e6db74">              auto: true # Required, for automated installations
</span><span style="color:#e6db74">EOF</span>

<span style="color:#75715e"># Note on running with kind:</span>
$ IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>docker inspect kind-control-plane | jq -r <span style="color:#e6db74">&#39;.[0].NetworkSettings.Networks.kind.IPAddress&#39;</span><span style="color:#66d9ef">)</span>
$ PORT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get svc hello-c3os -o json | jq <span style="color:#e6db74">&#39;.spec.ports[0].nodePort&#39;</span><span style="color:#66d9ef">)</span>
$ curl http://$IP:$PORT/hello-c3os.iso -o test.iso


</code></pre></div>

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/installation/interactive/" title="Interactive installation"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/installation/p2p/" title="Full P2P mesh support" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1663191160"></script>
    <script src="/js/perfect-scrollbar.min.js?1663191160"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1663191160"></script>
    <script src="/js/jquery.sticky.js?1663191160"></script>
    <script src="/js/featherlight.min.js?1663191160"></script>
    <script src="/js/highlight.pack.js?1663191160"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1663191160"></script>
    <script src="/js/learn.js?1663191160"></script>
    <script src="/js/hugo-learn.js?1663191160"></script>
    
        
            <script src="/mermaid/mermaid.js?1663191160"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

